## 登录&登出

- 点人头出现登录窗口

- 窗口内点击登录或者敲回车执行登录请求函数

- **登录请求函数**中向后台传入填写信息，后台判断，如果判断通过，返回用户数据，前端将用户数据的特征码存在ss中，以便刷新页面后能找到用户信息。同时解除绑定出现登录窗口事件。判断不通过，则显示错误信息。

- **刷新后显示用户数据**。拿着ss的特征码向后台请求数据，后台返回用户信息，拿到用户名显示在左上角，旁边插入“登出”。

- **登出。**重新出现登录窗口，抹除掉ss中的用户数据，插入人头，刷新页面

## 搜索

- **跳转搜索页**。执行搜索函数跳转到搜索页并拿到搜索结果同时loading。搜索框内有数据才跳转。点击、回车均可跳转。

- 向后台传入搜索文本，后台返回搜索到的block（数组），转码后对称加密，存数据到ss跳转到搜索页，显示相应的url数据search=...
- search页面内的js根据是否搜索到东西显示相应block。有则显示结果，无则向后台再一次请求所有书本数据并显示。

## 分类页

- 跳转时带着参数跳转（class=0,1,2,3...）
- 获取url参数，激活相应的分类按钮，显示相应分类的block

## 关于写入block

- block即

  <img src = "block.png" style="zoom:50%;" >

- books对象，内有data（书籍信息）、index（当前页数，从0开始数数）、class（当前类别，搜索的时候为s，其他情况从0开始数数）
- getBlockData：向后台请求书本数据，将数据存到ss中，初始化books对象（index从url上面获取，没有则为0；class也一样）
- 

